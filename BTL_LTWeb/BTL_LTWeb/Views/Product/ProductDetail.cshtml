@model BTL_LTWeb.Models.Product
@{
    ViewBag.Title = "ProductDetail";
    Layout = "~/Views/Shared/_ShopLayout.cshtml";
}
<div class="container-fluid">
    <div class="row px-xl-5">
        <div class="col-12">
            <nav class="breadcrumb bg-light mb-30">
                <a class="breadcrumb-item text-dark" href="~/Home/Index">Home</a>
                <a class="breadcrumb-item text-dark" href="~/Product/ProductDetail">Shop List</a>
                <span class="breadcrumb-item active">Product Details</span>
            </nav>
        </div>
    </div>
</div>
<!-- Shop Detail Start -->
<div class="container-fluid pb-5">
    <div class="row px-xl-5">
        <div class="col-lg-5 mb-30">
            <div class="carousel-inner bg-light">
                <div class="carousel-item active">
                    <img class="w-100 h-100" src="@BTL_LTWeb.Models.ImagePathHelper.path/@Model.image_url" alt="Image">
                </div>
            </div>
        </div>
        <div class="col-lg-7 h-auto mb-30">
            <div class="h-100 bg-light p-30">
                <h3>@Model.product_name</h3>
                <div class="d-flex mb-3">
                    <div class="text-primary mr-2">
                        <small class="fas fa-star"></small>
                        <small class="fas fa-star"></small>
                        <small class="fas fa-star"></small>
                        <small class="fas fa-star-half-alt"></small>
                        <small class="far fa-star"></small>
                    </div>
                    <small class="pt-1">(99 Reviews)</small>
                </div>
                <h3 class="font-weight-semi-bold mb-4">@String.Format("{0:0,0}", Model.price) VND</h3>
                <p class="mb-4">
                    @Model.description
                </p>
                <div class="d-flex mb-3">
                    <strong class="text-dark mr-3">Sizes:</strong>
                    <form>
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" class="custom-control-input" id="size-2" name="size">
                            <label class="custom-control-label" for="size-2">S</label>
                        </div>
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" class="custom-control-input" id="size-3" name="size">
                            <label class="custom-control-label" for="size-3">M</label>
                        </div>
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" class="custom-control-input" id="size-4" name="size">
                            <label class="custom-control-label" for="size-4">L</label>
                        </div>
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" class="custom-control-input" id="size-5" name="size">
                            <label class="custom-control-label" for="size-5">XL</label>
                        </div>
                    </form>
                </div>
                <div class="d-flex mb-4">
                    <strong class="text-dark mr-3">Colors:</strong>
                    <form>
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" class="custom-control-input" id="color-1" name="color">
                            <label class="custom-control-label" for="color-1">Black</label>
                        </div>
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" class="custom-control-input" id="color-2" name="color">
                            <label class="custom-control-label" for="color-2">White</label>
                        </div>
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" class="custom-control-input" id="color-3" name="color">
                            <label class="custom-control-label" for="color-3">Red</label>
                        </div>
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" class="custom-control-input" id="color-4" name="color">
                            <label class="custom-control-label" for="color-4">Blue</label>
                        </div>
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" class="custom-control-input" id="color-5" name="color">
                            <label class="custom-control-label" for="color-5">Green</label>
                        </div>
                    </form>
                </div>
                <div class="d-flex align-items-center mb-4 pt-2">
                    <form action="@Url.Action("AddToCart", "Cart")" method="post">
                        @Html.Hidden("productId", Model.product_id)
                        <input type="hidden" id="selectedSizeInput" name="selectedSize" />
                        <input type="hidden" id="selectedColorInput" name="selectedColor" />
                        <input type="hidden" name="quantity" id="quantityInput" value="1" />
                        <input type="submit" value="ADD TO CART" class="btn btn-primary" />
                    </form>
                </div>
                <div class="d-flex pt-2">
                    <strong class="text-dark mr-2">Share on:</strong>
                    <div class="d-inline-flex">
                        <a class="text-dark px-2" href="">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a class="text-dark px-2" href="">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a class="text-dark px-2" href="">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a class="text-dark px-2" href="">
                            <i class="fab fa-pinterest"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row px-xl-5">
        <div class="col">
            <div class="bg-light p-30">
                <div class="nav nav-tabs mb-4">
                    <a class="nav-item nav-link text-dark active" data-toggle="tab" href="#tab-pane-1">Description</a>
                    <a class="nav-item nav-link text-dark" data-toggle="tab" href="#tab-pane-2">Information</a>
                    <a class="nav-item nav-link text-dark" data-toggle="tab" href="#tab-pane-3">Reviews</a>
                </div>
                <div class="tab-content">
                    <div class="tab-pane fade show active" id="tab-pane-1">
                        <h4 class="mb-3">Product Description</h4>
                        <p>@Model.description</p>
                    </div>
                    <div class="tab-pane fade" id="tab-pane-2">
                        <h4 class="mb-3">Additional Information</h4>
                        <p>
                            Một số thông tin tổng quan về quần áo:
                        </p>
                        <div class="row">
                            <div class="col-md-6">
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item px-0">
                                        Áo sơ mi: Phổ biến trong trang phục công sở, thường được làm từ vải thoáng khí như cotton hoặc polyester.
                                    </li>
                                    <li class="list-group-item px-0">
                                        Áo thun: Phổ biến và thoải mái, thường được làm từ vải cotton.
                                    </li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item px-0">
                                        Váy: Có nhiều kiểu dáng và chất liệu khác nhau, phục vụ cho các dịp khác nhau từ hàng ngày đến dự tiệc.
                                    </li>
                                    <li class="list-group-item px-0">
                                        Quần jean: Được làm từ vải denim, là loại quần phổ biến và thích hợp cho nhiều dịp.
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="tab-pane-3">
                        <div class="row">
                            <div class="col-md-6">
                                <h4 class="mb-4">1 review for "Product Name"</h4>
                                <div class="media mb-4">
                                    <img src="~/Assets/Main/img/user.jpg" alt="Image" class="img-fluid mr-3 mt-1" style="width: 45px;">
                                    <div class="media-body">
                                        <h6>John Doe<small> - <i>01 Jan 2045</i></small></h6>
                                        <div class="text-primary mb-2">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                        <p>Chiếc quần jeans này thực sự ấn tượng! Chất liệu denim chắc chắn, thoải mái và giữ form tốt. Kiểu dáng hiện đại, dễ kết hợp với nhiều trang phục khác nhau. Màu sắc đậm và bền màu sau một thời gian sử dụng. Giá cả hợp lý so với chất lượng, là một sự đầu tư đáng giá cho tủ đồ hàng ngày. Tôi rất hài lòng với sản phẩm này!</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@Html.Action("GetProduct", "Product")

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
    $(document).ready(function () {
        $('input[name=size]').change(function () {
            var selectedSize = $('input[name=size]:checked').next('label').text();
            $('#size-column').text(selectedSize);
            $('#selectedSizeInput').val(selectedSize);
        });

        $('input[name=color]').change(function () {
            var selectedColor = $('input[name=color]:checked').next('label').text();
            $('#color-column').text(selectedColor);
            $('#selectedColorInput').val(selectedColor);
        });
    });
</script>
<script>
    $(document).ready(function () {
        // Hàm kiểm tra xem cả kích thước và màu sắc đã được chọn hay chưa
        function isSelectionValid() {
            var selectedSize = $('input[name=size]:checked').length > 0;
            var selectedColor = $('input[name=color]:checked').length > 0;
            return selectedSize && selectedColor;
        }

        // Hàm để bật/tắt nút "THÊM VÀO GIỎ HÀNG" dựa trên sự chọn lựa
        function updateAddToCartButton() {
            var isValid = isSelectionValid();
            $('#addToCartButton').prop('disabled', !isValid);
        }

        // Xử lý sự kiện khi chọn kích thước
        $('input[name=size]').change(function () {
            var selectedSize = $('input[name=size]:checked').next('label').text();
            $('#size-column').text(selectedSize);
            $('#selectedSizeInput').val(selectedSize);
            updateAddToCartButton();
        });

        // Xử lý sự kiện khi chọn màu sắc
        $('input[name=color]').change(function () {
            var selectedColor = $('input[name=color]:checked').next('label').text();
            $('#color-column').text(selectedColor);
            $('#selectedColorInput').val(selectedColor);
            updateAddToCartButton();
        });

        // Thiết lập ban đầu
        updateAddToCartButton();
    });
</script>